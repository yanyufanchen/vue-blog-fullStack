{"remainingRequest":"C:\\Users\\wangpeng\\Desktop\\mt\\vue-ht\\my_project\\my_library\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\wangpeng\\Desktop\\mt\\vue-ht\\my_project\\my_library\\src\\components\\goods\\List.vue?vue&type=style&index=0&id=04ea8e67&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\wangpeng\\Desktop\\mt\\vue-ht\\my_project\\my_library\\src\\components\\goods\\List.vue","mtime":1565523953565},{"path":"C:\\Users\\wangpeng\\Desktop\\mt\\vue-ht\\my_project\\my_library\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\wangpeng\\Desktop\\mt\\vue-ht\\my_project\\my_library\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\wangpeng\\Desktop\\mt\\vue-ht\\my_project\\my_library\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\wangpeng\\Desktop\\mt\\vue-ht\\my_project\\my_library\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\wangpeng\\Desktop\\mt\\vue-ht\\my_project\\my_library\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.search_button {\r\n  margin-left: 10px;\r\n}\r\n",{"version":3,"sources":["List.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkGA;AACA;AACA","file":"List.vue","sourceRoot":"src/components/goods","sourcesContent":["<template>\r\n  <div>\r\n    <Breadcrumb :value=\"common\"></Breadcrumb>\r\n    <el-card class=\"box-card\">\r\n      <div class=\"text item\">\r\n        <el-input clearable v-model=\"inputSearch\" placeholder=\"请输入内容\" style=\"width: 30%;\" @clear=\"searchGoods\">\r\n          <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"searchGoods\"></el-button>\r\n        </el-input>\r\n        <el-button type=\"success\" style class=\"search_button\" @click=\"toAdd\">添加商品</el-button>\r\n      </div>\r\n      <!-- 列表 -->\r\n      <template>\r\n        <el-table :data=\"tableGoods\" border style=\"width: 100% \">\r\n          <el-table-column type=\"index\" label=\"#\" width=\"50\" style=\"text-align: center\"></el-table-column>\r\n          <el-table-column prop=\"goods_name\" label=\"商品名称\" width=\"600\"></el-table-column>\r\n          <el-table-column prop=\"goods_price\" label=\"商品价格(元)\" width=\"80\"></el-table-column>\r\n          <el-table-column prop=\"goods_weight\" label=\"商品重量\" width=\"80\"></el-table-column>\r\n          <el-table-column prop=\"add_time\" label=\"创建时间\" width=\"150\">\r\n            <!-- <template slot-scope=\"scope\">{{scope.row.add_time | dateFormat}}</template> -->\r\n            <template slot-scope=\"scope\">{{scope.row.add_time | moment}}</template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"address\" label=\"操作\">\r\n            <template slot-scope=\"scope\">\r\n              <!-- 修改按钮 -->\r\n              <el-button type=\"primary\" icon=\"el-icon-edit\" size=\"mini\"></el-button>\r\n              <!-- 删除按钮 -->\r\n              <el-button type=\"danger\" icon=\"el-icon-delete\" size=\"mini\"></el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </template>\r\n      <!-- //分页 -->\r\n      <el-pagination\r\n        background\r\n        @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n          :current-page=\"queryInfo.pagenum\"\r\n          :page-sizes=\"[2, 5, 10, 20]\"\r\n          :page-size=\"queryInfo.pagesize\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          :total=\"total\"\r\n      ></el-pagination>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { getGoods_api } from '@/api'\r\nexport default {\r\n  data() {\r\n    return {\r\n      common: ['商品管理', '商品列表'], //公共组件传值\r\n      inputSearch: '',  //搜索value\r\n      tableGoods: [],  //展示商品列表参数\r\n      queryInfo: {    //请求商品列表参数\r\n        query: '',\r\n        pagenum: 1,\r\n        pagesize: 10\r\n      },\r\n      currentPage:1 , //当前页\r\n      total:0  //总页数\r\n    }\r\n  },\r\n  methods: {\r\n    toAdd(){\r\n      this.$router.push('/goods/add')\r\n    },\r\n    handleSizeChange(val){\r\n      // console.log(val);\r\n      this.queryInfo.pagesize=val\r\n      this.getGoods() \r\n    },\r\n    handleCurrentChange(val){\r\n      // console.log(val);\r\n      this.queryInfo.pagenum=val\r\n       this.getGoods() \r\n    },\r\n    async getGoods() {\r\n      const { data: res } = await getGoods_api(this.queryInfo)\r\n      // console.log(res)\r\n    //   console.log(res.data)\r\n      if (res.meta.status !== 200)\r\n        return this.$message.error('获取用户数据列表失败')\r\n      this.$message.success('获取用户数据列表成功')\r\n      this.tableGoods = res.data.goods\r\n      this.total=res.data.total\r\n    },\r\n    searchGoods(){\r\n        // console.log(this.inputSearch,666);\r\n        this.queryInfo.query=this.inputSearch\r\n         this.getGoods() \r\n    }\r\n  },\r\n  created() {\r\n    this.getGoods()\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.search_button {\r\n  margin-left: 10px;\r\n}\r\n</style>"]}]}