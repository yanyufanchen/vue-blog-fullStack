{"remainingRequest":"D:\\开发\\个人服务器\\pengwang.xyz\\my_blogBack\\node_modules\\babel-loader\\lib\\index.js!D:\\开发\\个人服务器\\pengwang.xyz\\my_blogBack\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\开发\\个人服务器\\pengwang.xyz\\my_blogBack\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\开发\\个人服务器\\pengwang.xyz\\my_blogBack\\src\\components\\Me\\About_me.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\开发\\个人服务器\\pengwang.xyz\\my_blogBack\\src\\components\\Me\\About_me.vue","mtime":1590508018235},{"path":"D:\\开发\\个人服务器\\pengwang.xyz\\my_blogBack\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\开发\\个人服务器\\pengwang.xyz\\my_blogBack\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\开发\\个人服务器\\pengwang.xyz\\my_blogBack\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\开发\\个人服务器\\pengwang.xyz\\my_blogBack\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"D:\\\\\\u5F00\\u53D1\\\\\\u4E2A\\u4EBA\\u670D\\u52A1\\u5668\\\\pengwang.xyz\\\\my_blogBack\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport moment from 'moment'; // 时间过滤插件\n\nimport { aboutMeMessageApi, aboutMeinformationApi } from '@/api';\nexport default {\n  data: function data() {\n    return {\n      pickerOptions0: {\n        disabledDate: function disabledDate(time) {\n          return time.getTime() < Date.now(); //如果没有后面的-8.64e7就是不可以选择今天的\n        }\n      },\n      common: ['基本信息'],\n      // 公共组件传值\n      circleUrl: \"https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png\",\n      fileList: [],\n      // 上传头像\n      uploadImgNum: 1,\n      // 允许上传数量\n      notImg: 'https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png',\n      labelPosition: 'left',\n      // 基本信息表单\n      ruleForm: {\n        name: '',\n        date1: '',\n        date2: '',\n        six: '',\n        intro: ''\n      },\n      // 基本信息表单验证\n      rules: {\n        name: [{\n          required: true,\n          message: '请输入昵称',\n          trigger: 'blur'\n        }, {\n          min: 2,\n          max: 10,\n          message: '长度在 3 到 10 个字符',\n          trigger: 'blur'\n        }],\n        date1: [{\n          type: 'string',\n          required: true,\n          message: '请选择日期',\n          trigger: 'change'\n        }],\n        date2: [{\n          type: 'string',\n          required: true,\n          message: '请选择时间',\n          trigger: 'change'\n        }],\n        six: [{\n          required: true,\n          message: '请选择性别',\n          trigger: 'change'\n        }],\n        intro: [{\n          required: true,\n          message: '请填写简介',\n          trigger: 'blur'\n        }]\n      },\n      // 语录\n      me_info: []\n    };\n  },\n  created: function created() {\n    this.getdata();\n  },\n  methods: {\n    // 提交基本信息表单\n    submitForm: function submitForm(formName) {\n      var _this = this;\n\n      this.$refs[formName].validate(function (valid) {\n        if (valid) {\n          //  alert('submit!')\n          console.log(_this.ruleForm, '保存表单');\n        } else {\n          console.log('error submit!!');\n          return false;\n        }\n      });\n    },\n    submitUpload: function submitUpload() {\n      console.log('确定上传');\n      this.$refs.upload.submit();\n    },\n    handleRemove: function handleRemove(file, fileList) {\n      console.log(file, fileList);\n      console.log(this.fileList, 111);\n    },\n    handlePreview: function handlePreview(file) {\n      console.log(file);\n    },\n    beforeRemove: function beforeRemove(file, fileList) {\n      return this.$confirm(\"\\u786E\\u5B9A\\u79FB\\u9664 \".concat(file.name, \"\\uFF1F\"));\n    },\n    progressImg: function progressImg(file, fileList) {\n      console.log(file, fileList, 222);\n    },\n    // 编辑语录\n    handleEdit: function handleEdit(index, row) {\n      console.log(index, row);\n    },\n    // 删除语录\n    handleDelete: function handleDelete(index, row) {\n      console.log(index, row);\n    },\n    // 新增语录\n    // 获取数据\n    getdata: function getdata() {\n      // 获取about_me_message\n      this.getMe_messageAll();\n      this.getMe_DetailAll();\n    },\n    // 获取about_me_message\n    getMe_messageAll: function () {\n      var _getMe_messageAll = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var _ref, res;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return aboutMeMessageApi();\n\n              case 2:\n                _ref = _context.sent;\n                res = _ref.data;\n                console.log(res, '查询服务器-我的语录');\n\n                if (!(res.statu !== 200)) {\n                  _context.next = 7;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", this.$message.error(res.mes));\n\n              case 7:\n                // res.data.forEach\n                this.me_info = res.data;\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getMe_messageAll() {\n        return _getMe_messageAll.apply(this, arguments);\n      }\n\n      return getMe_messageAll;\n    }(),\n    // 获取about_me_详细信息\n    getMe_DetailAll: function () {\n      var _getMe_DetailAll = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2() {\n        var _ref2, res, time, date1, date2;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return aboutMeinformationApi();\n\n              case 2:\n                _ref2 = _context2.sent;\n                res = _ref2.data;\n                console.log(res, '查询服务器-我的详细信息');\n\n                if (!(res.statu !== 200)) {\n                  _context2.next = 7;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\", this.$message.error(res.mes));\n\n              case 7:\n                this.ruleForm.name = res.data[0].nickname;\n                this.ruleForm.six = res.data[0].six == 0 ? '男' : '女';\n                console.log(res.data[0].birthday, 111);\n                time = new Date(res.data[0].birthday).getTime();\n                date1 = this.VTime.formatTime(time, 'Y-M-D');\n                date2 = this.VTime.formatTime(time, 'h:m:s'); // this.ruleForm.data1 = date1\n                // this.ruleForm.data2 = date2\n\n                this.$set(this.ruleForm, 'date1', date1);\n                this.$set(this.ruleForm, 'date2', date2);\n                this.ruleForm.intro = res.data[0].intro;\n                console.log(this.ruleForm); // res.data.forEach(item => {\n                //   item.message = item.message.split(';')\n                // })\n                // this.message.capacity = res.data\n                // console.log(this.message.capacity)\n\n              case 17:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getMe_DetailAll() {\n        return _getMe_DetailAll.apply(this, arguments);\n      }\n\n      return getMe_DetailAll;\n    }()\n  },\n  mounted: function mounted() {}\n};",{"version":3,"sources":["About_me.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <!-- 导航 -->\r\n    <Breadcrumb :value=\"common\"></Breadcrumb>\r\n    <el-card class=\"about_me\">\r\n      <div class=\"header\">\r\n        <span class=\"title\">头像：</span>\r\n        <el-avatar class=\"img\"\r\n                   :size=\"100\"\r\n                   :src=\"fileList.length>0?fileList[0].url:circleUrl\"></el-avatar>\r\n        <div class=\"uploadImg\">\r\n          <el-upload ref=\"upload\"\r\n                     class=\"upload-demo\"\r\n                     action=\"https://jsonplaceholder.typicode.com/posts/\"\r\n                     :on-preview=\"handlePreview\"\r\n                     :on-remove=\"handleRemove\"\r\n                     :before-remove=\"beforeRemove\"\r\n                     :on-change=\"progressImg\"\r\n                     :file-list=\"fileList\"\r\n                     :auto-upload=\"false\"\r\n                     :limit=\"uploadImgNum\"\r\n                     list-type=\"picture\">\r\n            <el-button slot=\"trigger\"\r\n                       size=\"small\"\r\n                       type=\"primary\">{{fileList.length>0?'替换头像':'选择头像'}}</el-button>\r\n            <el-button style=\"margin-left: 10px;\"\r\n                       size=\"small\"\r\n                       type=\"success\"\r\n                       @click=\"submitUpload\">确定上传</el-button>\r\n            <div slot=\"tip\"\r\n                 class=\"el-upload__tip\">只能上传jpg/png文件，且不超过500kb</div>\r\n          </el-upload>\r\n        </div>\r\n      </div>\r\n      <div class=\"from\"\r\n           style=\"width:500px;margin-top:30px;\">\r\n        <el-form :label-position=\"labelPosition\"\r\n                 label-width=\"80px\"\r\n                 :rules=\"rules\"\r\n                 ref=\"ruleForm\"\r\n                 :model=\"ruleForm\">\r\n          <el-form-item label=\"昵称\"\r\n                        prop=\"name\">\r\n            <el-input v-model=\"ruleForm.name\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"出生日期\"\r\n                        required>\r\n            <el-col :span=\"11\">\r\n              <el-form-item prop=\"date1\">\r\n                <el-date-picker type=\"date\"\r\n                                placeholder=\"选择日期\"\r\n                                v-model=\"ruleForm.date1\"\r\n                                :default-value=\"ruleForm.date1\"\r\n                                format=\"yyyy-MM-dd\"\r\n                                value-format=\"yyyy-MM-dd\"\r\n                                style=\"width: 100%;\"></el-date-picker>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col class=\"line\"\r\n                    :span=\"2\">-</el-col>\r\n            <el-col :span=\"11\">\r\n              <el-form-item prop=\"date2\">\r\n                <el-time-picker placeholder=\"选择时间\"\r\n                                v-model=\"ruleForm.date2\"\r\n                                :default-value=\"ruleForm.date2\"\r\n                                format=\"HH:mm:ss\"\r\n                                value-format=\"HH:mm:ss\"\r\n                                style=\"width: 100%;\"></el-time-picker>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-form-item>\r\n          <el-form-item label=\"性别\"\r\n                        prop=\"six\">\r\n            <el-select v-model=\"ruleForm.six\"\r\n                       placeholder=\"请选择\">\r\n              <el-option label=\"男\"\r\n                         value=\"0\"></el-option>\r\n              <el-option label=\"女\"\r\n                         value=\"1\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"简介\"\r\n                        prop=\"intro\">\r\n            <el-input type=\"textarea\"\r\n                      v-model=\"ruleForm.intro\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-button type=\"primary\"\r\n                       @click=\"submitForm('ruleForm')\">立即保存</el-button>\r\n            <!-- <el-button @click=\"resetForm('ruleForm')\">重置</el-button> -->\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n      <div class=\"saying\">\r\n        <div class=\"title\">我的语录</div>\r\n        <div class=\"tag\">\r\n          <el-table :data=\"me_info\"\r\n                    style=\"width: 100%\">\r\n            <el-table-column label=\"日期\"\r\n                             width=\"180\">\r\n              <template slot-scope=\"scope\">\r\n                <i class=\"el-icon-time\"></i>\r\n                <span style=\"margin-left: 10px\">{{ scope.row.createdAt | moment('YYYY-MM:DD hh:mm:ss') }}</span>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"语录\"\r\n                             width=\"300\">\r\n              <template slot-scope=\"scope\">\r\n                <div slot=\"reference\"\r\n                     class=\"name-wrapper\">\r\n                  <el-tag size=\"medium\">{{ scope.row.message }}</el-tag>\r\n                </div>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"操作\">\r\n              <template slot-scope=\"scope\">\r\n                <el-button size=\"mini\"\r\n                           @click=\"handleEdit(scope.$index, scope.row)\">编辑</el-button>\r\n                <el-button size=\"mini\"\r\n                           type=\"danger\"\r\n                           @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n        </div>\r\n      </div>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n<script>\r\nimport moment from 'moment' // 时间过滤插件\r\nimport { aboutMeMessageApi, aboutMeinformationApi } from '@/api'\r\nexport default {\r\n  data () {\r\n    return {\r\n      pickerOptions0: {\r\n        disabledDate (time) {\r\n          return time.getTime() < Date.now()//如果没有后面的-8.64e7就是不可以选择今天的\r\n        }\r\n      },\r\n      common: ['基本信息'], // 公共组件传值\r\n      circleUrl: \"https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png\",\r\n      fileList: [], // 上传头像\r\n      uploadImgNum: 1, // 允许上传数量\r\n      notImg: 'https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png',\r\n      labelPosition: 'left',\r\n      // 基本信息表单\r\n      ruleForm: {\r\n        name: '',\r\n        date1: '',\r\n        date2: '',\r\n        six: '',\r\n        intro: ''\r\n      },\r\n      // 基本信息表单验证\r\n      rules: {\r\n        name: [\r\n          { required: true, message: '请输入昵称', trigger: 'blur' },\r\n          { min: 2, max: 10, message: '长度在 3 到 10 个字符', trigger: 'blur' }\r\n        ],\r\n        date1: [\r\n          { type: 'string', required: true, message: '请选择日期', trigger: 'change' }\r\n        ],\r\n        date2: [\r\n          { type: 'string', required: true, message: '请选择时间', trigger: 'change' }\r\n        ],\r\n        six: [\r\n          { required: true, message: '请选择性别', trigger: 'change' }\r\n        ],\r\n        intro: [\r\n          { required: true, message: '请填写简介', trigger: 'blur' }\r\n        ]\r\n      },\r\n      // 语录\r\n\r\n      me_info: []\r\n    }\r\n  },\r\n  created () {\r\n    this.getdata()\r\n  },\r\n\r\n  methods: {\r\n    // 提交基本信息表单\r\n    submitForm (formName) {\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          //  alert('submit!')\r\n          console.log(this.ruleForm, '保存表单');\r\n\r\n        } else {\r\n          console.log('error submit!!')\r\n          return false;\r\n        }\r\n      })\r\n    },\r\n\r\n    submitUpload () {\r\n      console.log('确定上传');\r\n      this.$refs.upload.submit();\r\n    },\r\n    handleRemove (file, fileList) {\r\n      console.log(file, fileList);\r\n      console.log(this.fileList, 111);\r\n    },\r\n    handlePreview (file) {\r\n      console.log(file);\r\n    },\r\n    beforeRemove (file, fileList) {\r\n      return this.$confirm(`确定移除 ${file.name}？`);\r\n    },\r\n    progressImg (file, fileList) {\r\n      console.log(file, fileList, 222)\r\n\r\n    },\r\n\r\n    // 编辑语录\r\n    handleEdit (index, row) {\r\n      console.log(index, row);\r\n    },\r\n    // 删除语录\r\n    handleDelete (index, row) {\r\n      console.log(index, row);\r\n    },\r\n    // 新增语录\r\n\r\n    // 获取数据\r\n    getdata () {\r\n      // 获取about_me_message\r\n      this.getMe_messageAll()\r\n      this.getMe_DetailAll()\r\n    },\r\n    // 获取about_me_message\r\n    async getMe_messageAll () {\r\n      const { data: res } = await aboutMeMessageApi()\r\n      console.log(res, '查询服务器-我的语录')\r\n      if (res.statu !== 200) return this.$message.error(res.mes)\r\n      // res.data.forEach\r\n      this.me_info = res.data\r\n    },\r\n    // 获取about_me_详细信息\r\n    async getMe_DetailAll () {\r\n      const { data: res } = await aboutMeinformationApi()\r\n      console.log(res, '查询服务器-我的详细信息')\r\n      if (res.statu !== 200) return this.$message.error(res.mes)\r\n      this.ruleForm.name = res.data[0].nickname\r\n      this.ruleForm.six = res.data[0].six == 0 ? '男' : '女'\r\n      console.log(res.data[0].birthday, 111);\r\n      let time = new Date(res.data[0].birthday).getTime()\r\n      let date1 = this.VTime.formatTime(time, 'Y-M-D')\r\n      let date2 = this.VTime.formatTime(time, 'h:m:s')\r\n      // this.ruleForm.data1 = date1\r\n      // this.ruleForm.data2 = date2\r\n      this.$set(this.ruleForm, 'date1', date1)\r\n      this.$set(this.ruleForm, 'date2', date2)\r\n      this.ruleForm.intro = res.data[0].intro\r\n      console.log(this.ruleForm);\r\n\r\n      // res.data.forEach(item => {\r\n      //   item.message = item.message.split(';')\r\n      // })\r\n      // this.message.capacity = res.data\r\n      // console.log(this.message.capacity)\r\n    },\r\n\r\n\r\n\r\n  },\r\n  mounted () { }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.about_me {\r\n  .header {\r\n    display: flex;\r\n    align-items: flex-start;\r\n    .title {\r\n      margin-right: 36px;\r\n      font-size: 15px;\r\n      color: #333;\r\n    }\r\n    .img {\r\n      margin-right: 10px;\r\n    }\r\n  }\r\n  .from {\r\n    .line {\r\n      text-align: center;\r\n    }\r\n  }\r\n  .saying {\r\n    .title {}\r\n    .tag {\r\n      \r\n    }\r\n  }\r\n}\r\n.page_size{display: inline-block;float: right;}\r\n</style>\r\n"],"sourceRoot":"src/components/Me"}]}